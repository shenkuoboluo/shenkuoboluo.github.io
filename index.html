<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>首页</title>
		<script type="text/javascript" src="js/vue.min.js"></script>
		<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	</head>
	<body>

		<div class="container" id="vueapp">
			<div class="row clearfix">
				<div class="col-md-12 column">
					
					<nav class="navbar navbar-default" role="navigation">
						<div class="container-fluid">
							<div class="navbar-header">
								<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#example-navbar-collapse">
									<span class="sr-only">切换导航</span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
									<span class="icon-bar"></span>
								</button>
								<a class="navbar-brand" href="index.html">
								写给任小姐的考研小站</a>
							</div>
							<div class="collapse navbar-collapse" id="example-navbar-collapse">
								<ul class="nav navbar-nav">
								<li v-for="item in items">
									<a v-bind:href="item.url" v-bind:class="{'classshow': item.classaction}">{{item.name}}</a>
								</li>
								</ul>
							</div>
						</div>
					</nav>
				</div>
			</div>
			<div class="row clearfix">
				<div class="col-md-12 column">
					<div class="jumbotron">
						<div class="col-md-12 column">
							<img src="img/timg.jpg" class="img-rounded" style="width:100%;margin: auto;" />
						</div>
						<h1 v-text="message"> </h1>
						<h3> 截止时间:{{endtime}} </h3>
						<h3>
							你还有<span style="font-size: 50px;">{{day}}</span>天
							<span style="font-size: 50px;">{{hr}}</span>小时
							<span style="font-size: 50px;">{{min}}</span>分钟
							<span style="font-size: 50px;">{{sec}}</span>秒
						</h3>
						<div class="progress active progress-striped">
							<div id="showimg" class="progress-bar progress-success" v-bind:style="{width:widthlength+'%'}">
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<script>
			var vm = new Vue({
				el: '#vueapp',
				data: {
					message: '写给正在努力的任小姐',
					endtime: '2019-12-22',
					day: '',
					hr: '',
					min: '',
					sec: '',
					widthlength: '0',
					items: [{
							url: 'time.html',
							name: '范围大纲'
						},
						{
							url: 'show.html',
							name: '资料分享'
						},
						{
							url: 'import.html',
							name: '重大节点'
						},
						{
							url: 'story.html',
							name: '写在最后'
						}
					]
				},
				computed: {},
				methods: {
					A: function() {
						setInterval(() => {
							this.time();
						}, 100)
					},
					time: function() {
						const end = Date.parse(new Date('2019-12-22'))
						// 当前时间戳
						const now = Date.parse(new Date())
						// 相差的毫秒数
						const msec = end - now
						// 计算时分秒数
						let day = parseInt(msec / 1000 / 60 / 60 / 24)
						let hr = parseInt(msec / 1000 / 60 / 60 % 24)
						let min = parseInt(msec / 1000 / 60 % 60)
						let sec = parseInt(msec / 1000 % 60)
						// 个位数前补零
						hr = hr > 9 ? hr : '0' + hr
						min = min > 9 ? min : '0' + min
						sec = sec > 9 ? sec : '0' + sec
						// 控制台打印
						this.day = day
						this.hr = hr
						this.min = min
						this.sec = sec
						this.widthlength = ((1 - (this.sec / 60)) * 100).toString();
					}
				}
			})
			vm.time();
			vm.A();
		</script>


	</body>
</html>
